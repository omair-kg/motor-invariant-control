\chapter{BACKGROUND}
\label{chap:background}
\section{Motion Synthesis Research}
We should know the things we animate. 
For CMS research, the basic challenge comes from our misunderstanding of the biological motor control system.
Some researchers following the memory based idea of motor control and adopted the data driven method.
For researchers following the computational based motor control,they adopted the procedure animation method.
\subsection{Data Driven}
Data-driven methods are based on ready motion data which are generated by Key-frame or Motion Capture(Mocap). 
In practice, motion data are segmented into short time clips. 
An animation is generated by selecting motion clips and connecting them together\citep{Parent2002}.

Like other example based methods in Computer Graphics, Data driven methods can generate good results on if similar motion clips can be found, but it is difficult to generate new motion.
At current, it is also difficult to reuse the motion data, whether adapting the motion data for a different character or a different scenario. 
This is usually referred to “ the motion re-targeting” problem.

Besides the difficulties in generating new motion, management of large motion data is another problem in practice. 
The Annotation Database \citep{Arikan2003} and the Motion Graph \citep{kovar2008motion}are proposed. 
But because there is no efficient algorithm that understands motions, catalogue and search of motion data are not trivial task and are still open questions.

\subsection{Procedure Method}
Currently, for physics based motion synthesis research basically have three different ideas.
\begin{itemize}
\HiItem{PD controller.}
Some early research applied classical PD controller \citep{Raibert1991} for locomotion synthesis.
Later research \citep{Hodgins1995} applied the same method for different tasks like running, bicycling, vaulting and balancing. 
PD control needs a reference motion, so the motion is not adaptive


\HiItem{Limit Circle}
Limit Circle Control(LCC) \citep{Laszlo1996} provides an alternative method for lower energy locomotion animation. 
The LCC theory has been used in explaining passive mechanics.  
Compared with Spacetime optimization, LLC methods is more computational efficient method for low energy motion.

In current researches\citep{Coros2009,Laszlo1996}, the limited circle is fixed.
The control strategies are simplified as a state machine controller following a predefined limited circle.
Like pd based controller, it is not adaptive



 


\HiItem{Optimization}
Because of the redundant DOFs in the body structure, in most cases, there exist many motion solutions for one task.
Optimization methods have been applied to solve the nondeterministic problem. 
Among all the solutions in possible motion space, the ``best'' one is chosen as the proper solution:
For dynamic methods, a reasonable method is try to find the motion cost least energy~$E$. 
\begin{equation}
 \textbf{E}=\int_{t_0}^{t_1}f_{a}(t)^2dt
\end{equation}
where $F_{a}$ is the active force generated by actuators like motors or muscles. 
This is introduced to CMS research as the influential Spacetime Constraints\citep{Witkin1988}. 
It is based on the hypothesis that the natural looking trajectory costs minimum energy. 
It is related to the idea of Darwin's Theory of Evolution and the principle of Natural Selection. 
In many cases, these methods produced very believable motions. 
\citet{Jain2009} provides an example of locomotion.  
\citet{BalanceControl} find a method for balance maintaining movement. 
\citet{Liu2009} proposed a method for object manipulating animation. 
\end{itemize}
\subsubsection*{Drawbacks of Optimization}
Optimization is the current mainstream method for physics based animation.
It generated the best motion results in current research.
But this method has several drawbacks.

\begin{itemize}
\HiItem{Numerical Stability and Modelling Difficulties: }
Optimization can only guarantee the energy efficiency of the resulting motion, but cannot control convergence speed and stability.
Even if the optimal solution is natural looking, it can be very hard to find. Finding the optimal solution depends largely on the accuracy of the model and the proximity of the initial conditions to the final solution. For motion synthesis, an accurate model is very difficult to build, which results in artefacts in the solutions. Liu [2005] points out those space–time constraint methods only suit high energy motions, like jumping and running.
For low energy tasks (such as walking) the results do not look natural, mainly because muscle effects are neglected.

\HiItem{Computational Complexity: }
Optimization with space–time constraints is a variational problem by nature. For a complex body structure, the performance of even current state of the art numeric methods is prohibitively slow, limiting the application domain of problems to those which are computationally feasible. In addition, little is known about how to reuse a computation result for motion adaptation.

\end{itemize}


\section{Biological Motor Control}
The theory from tradition artificial systems such as PD or optimization, are highly unlikely the idea for biological system. 
This is because they neglected the biological constraints.
Recently biological research has a different idea about motor control.

\subsection{Biological Constraints}
Although the mechanism behind information processing remains obscure, some characteristics of biological information processing are well agreed.
These characteristics make optimization control methods questionable. 
Here we list several major questions\citep{Glynn2003}.  
\begin{itemize}
\HiItem{Sensing and Control Limitations:}
Motor control is not only a mechanical problem, but a complex process. 
Many crucial parameters and variables of the biological system are inaccessible to the neural system (such as mass, inertia, force) and can only be approximated. 
For important control variables (such as torque), the neural system has no direct control.
In addition to this, body and environmental measurements are noisy and time varying, making methods that are sensitive to errors unsuitable for biological motor control.

\HiItem{Neural Computation: }
The neural system is powerful, but is inferior in speed and accuracy when compared with a digital computer. It can only generate signals at hundreds of Hz.
Signal transmission speeds are slow — there is a long delay between firing a neural signal and generating force in the muscles.
For seeing an object to force is generate in arm, it may cost about half a second. 
This makes it impossible for the neural system to carry out the complex computation necessary for real–time optimization.
Human’s body structure goes through big change through lifetime.

Following the idea of optimization control, the dynamics of fluid environment and deformable body structure are more expensive to optimize. 

But most primitive life forms live in the sea and have limited intelligence. 
\HiItem{Memory Capacity:}
Some people argue that motion is not computed, but we store all the possible motor control ability in our memory, then when execute a motor task, we just access the memory for the proper motor control command.
This idea may helps to drop the question of computation speed, but it faces another problem, the memory capacity. 
Motion varies greatly, if we store the motion in our brain, the problems is the memory capacity.
\end{itemize}

\subsection{Motion Primitives}


And many animals include human exhibit complex motion behaviours at very young age, before the intelligence system is fully developed.
If we expand our view port, many complex motion abilities like breathing, heat beating and child bearing are inborn.
There is no need for learning or intelligent effort.
Also we find out that the motion style is not changed by the evolution of the neural system, after all whale swim more like fish than other mammals

Many researchers propose an alternative idea that animals don’t move the way they want, but rather the way they can. 
The body and the environment play the most important role in motor control, as they form the basic pattern of motion \citep{nishikawa2007neuromechanics}.
These basic patterns are called motion primitives \citep{Poggio2004}.

The number of motion primitives is limited.
Complex motions are combinations of motion primitives, just like we connect alphabets into sentences.




\subsubsection*{Neural Control Effects}
Computer Graphic researchers find motion planning is a challenging task, while human motor control involves little mental work.
A question is how much effort human take in motor control.
The current idea of biology research is that motor control is a low level intelligent activity and can be controlled with primitive neural structure even without brain input. 
Despite the complexity of body structures and environment, the natural motor control strategy seems relatively simple, involves little computational work, and outperforms optimization methods. 

Two ideas propose by biological motor research build different model for neural effects.
\begin{itemize}
\item
In many animals, the active neural structure in motor control is the Central Pattern Generator (CPG) which generates rhythmic signals.
\citet{Cohen1988a} argues that human locomotion is the result of the interaction between neural and mechanical oscillators via a process called \textbf{entrainment}.
Neural systems modify the motion by changing frequency and amplitude of the neural signal.

\item
Some research find motion will change in a uniform manner\citep{Viviani1992},and propose tweaking effects of motion can be treated as transformation\citep{flash2007affine}.
This idea not only explain the motor control problem, it also proide a clue for motion perception.

\end{itemize}





\subsection{Motor Control Objective}
The remaining big question is what is the control objective of motor control.
The idea of neural system control movement to follow a trajectory is questioned by the biomechanical research.

The observation of blacksmith's hammering motions show that even under the same conditions, the motions still vary. 
An explanation is the neutral system doesn't control all the DOFs. 
Some DOFs are not controlled and freely influenced by the environment. 
This is the Uncontrolled Manifold Hypothesis(UMH)\citep{latash2008neurophysiological}. 
In this viewpoint, the result of motion planning is not a trajectory, but a space of valid trajectories. As long as the motion task is finished, neural system may not care how it is carried out.



Equilibrium Point Hypothesis(EPH)\citep{Feldman1986}can be seen as a further development of UMH. 
This idea comes from properties of differential equations. 
For a dynamic system
\[
\xd=F(x)
\]
the equilibrium points $x_{e}$ satisfy the condition $F(x_{e})=0$.

Equilibrium point is the final position of the motion curve.
EPH suggests that what the neural systems controls is not trajectory, but the equilibrium points.



Impedance Control \citep{hogan1985ica} refines the idea of EPH by providing an explanation for effects of the extra DOFs. 
At an equilibrium point $x_{e}$,
\[
F(x_{e})=0 
\]
Impedance Control proposed that the extra DOFs provide a way to control the stability and admittance of the equilibrium point $x_{e}$. 
The mathematical presentation is
\begin{equation}
F(x_{e}+E_r)=KE_r
\end{equation}
where $E_r$ is the offset error vector, $K$ is stiffness matrix or impedance.
If $K$ positive, $x_{e}$ is unstable, characters will change his posture;
if $K$ is negative, $x_{e}$ will be stable, posture can be maintained.
if the value of $K$ is large, the posture will be more stiff and rigid.
if $K$ is small, posture will be more gentle, and perturbations will cause a large offset error.

Neural system will tune the direction of $K$ according to the motion purpose, such as avoiding obstacles and risks. 
Experiment \citep{Franklin2007} shows that the matrix $K$ has anisotropic properties.

\section{ Evidences from Bionomic Robotic Research}
Biological research idea greatly inspired the engineering experiment.
Some researches begin to focus on utilizing the natural dynamic and use as little control as possible with the hope that this method will produce more efficient robots. 
And some significant result has been reported
\begin{itemize}
\HiItem{Passive Walking}
A very important discovery is the bipedal walking can happen without any control\citep{McGeer1990}. 
When putting a mechanical toy with human like body structure, it can walk down slope without any control effort. 
And based on this idea, new mechanical system is designed that can walk on plane with simple control\citep{Collins2005}.

\HiItem{CPG in locomotion}
Also the CPG based entrainment is applied for robotic research\citep{Williamson1999a}, the finding results show the CPG will boost the system stability and can maintain motion in unpredictable situation.

\HiItem{Symmetric based Control}
The idea of Symmetry is also well exploit in Mechanical research.
For mechanical view port, Symmetry has more concrete meaning.
Like energy preserving or momentum preserving.
The idea of Symmetry is also used in control robotics\citep{spong2005controlled}; some techniques are called “Energy Shaping”.
\end{itemize}

\section{Our Research}
This biological research idea greatly influenced our motion synthesis research.
While in our research, we unified the different method under a new framework.
We argue that the motion primitives and equilibrium point are closely connected; basically, we can identify motion primitives by exploring the equilibrium point type of the underlying dynamic equation. 

While for tweaking, CPG and Transform have different role. 
CPG will qualitatively modified the motion, while transformation for quantiative motion constraints.
The role of CPG is providing stability and maintains the equilibrium type, transformation will have no effect on stability, and its role is place the equilibrium point at proper position.

A question is how the CPG and boost stability. 
Our finding is that motion primitives have a special equilibrium type rather the one we see in the ship example.
The equilibrium point of motion primitives is a periodic circle, called limit circle. 
Entrainment can maintain its oscillating behaviour thus maintains the qualitative property.

The idea impedance control also included in our research, original method is based on finding the required Jacobin matrix, which is computational expensive, while we found the symmetry based method can have the same effect.

