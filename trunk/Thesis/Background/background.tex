\chapter{BACKGROUND}
\label{chap:background}

\nomenclature[z23]{\pd}{Proportional Derivative}
\nomenclature[z24]{\lc}{Limit Cycle}
\nomenclature[z25]{\cpg}{Central Pattern Generator}
\nomenclature[z26]{\eph}{Equilibrium Point Hypothesis}
\nomenclature[z27]{\umh}{Uncontrolled Manifold Hypothesis}
Current \cms\ methods have different ideas of motor control.
Many current \cms\ research studies adopted the control hierarchy of artificial systems.
No matter whether the control method is based on tracking or optimization, in such systems, there is a clear separation of planning and execution.
The body is treated as the mechanical apparatus, which execute the motor commands from the neural system.



Motor Invariant Theory(\moit) is based on the integrative theory of motor control\citep{dickinson2000animals}:
It does not separate motion execution from motion planing.
For biological systems,it is believed that the planning and execution can not be separated distinctly.
In the integrative theory framework, neural system plays a limited role in the planning.
Body and environment are taken into consideration and motor control can only be understood from a broader perspective.

In this chapter, limitations of current \cms\ methods are discussed first, which motivate this research.
New theory is developed because these limitations can not be overcome without breaking the current theoretical framework.
Supporting biological research studies are discussed later,  which serve as justifications for \moit.



\section{A survey of \cms}

Many methods are developed in {\cms}, making it impossible to include all the work in this chapter.
For a short discussion, \cms\ methods are categorized by the principal control model: memory based or computation based.
Memory based control ideas are the foundation of the  many data-driven techniques;
while procedural methods are computation based.
Pros and cons of methods are discussed category by category.

\subsection{Data Driven}
Data-driven methods are based on ready motion data,  generated by Key-frame or Motion Capture(Mocap). 
In practice, motion data are segmented into short time clips. 
An animation is synthesized by selecting motion clips and connecting them together\citep{Parent2002,kovar2003flexible}.

Like other example based methods, data driven methods can generate good results if similar motion clips are available, but difficult to generate  adaptation or novel motion, either for a different character or scenario. 
The  ``re-targeting'' problem is a big challenge in \cms\ research.

In practise, motion versatility requires a large data base.
As a consequence data management becomes another problem. 
Duo to this reason, the Annotation Database \citep{Arikan2003} and the Motion Graph \citep{kovar2008motion} were proposed. 
Currently, the problem of catalogue and search of motion data are not trivial and remain open\citep{keogh2004indexing,muller2005efficient}.

\subsection{Procedural Method}
For physics based \cms, different procedural approaches have been proposed.
\begin{itemize}
\HiItem{Tracking Controllers.}




Some early research applied classical \pd\ controller for dynamic motion synthesis \citep{Raibert1991}.
Later research \citep{Hodgins1995} applied the same method for different tasks like running, bicycling, vaulting and balancing. 
For high dimensional characters, \pd\ controllers need to  track predefined motion curves\citep{Yin2007}.

A \pd\ controller is shown in Equation~\ref{eq:pdcontrol}.
\begin{equation}
\label{eq:pdcontrol}
u=K(q -q_d)+d\qd
\end{equation}
where $u$ is the control effort, $K$ is the stiffness, $q_d$ is the desired or reference position, and $d$ is the damping efficient.
\pd\ based methods can run in real-time and generate adaptive responses to small perturbation.
But large perturbation responses or deviations from the reference trajectory are difficult to achieve.


Most \pd\ based controllers use motion capture data as references.
As an alternative, \citet{Laszlo1996} introduced Limit Cycle (\lc) as tracking reference for periodic locomotion animation. 
Current research studies\citep{Coros2009,coros2010generalized,Laszlo1996} track fixed limit cycle.
Such methods share many characteristics with \pd, which promise real-time speed, but lack adaptation ability and results are stereotype looking.







\HiItem{Optimization.}
The redundant \dof s make motion planning non-deterministic.
Optimization has been introduced to \cms\ for this problem.
The idea is to choose the ``best'' one among all the possible motions.

Many merits have been proposed for \cms.
For dynamic methods, a reasonable merit is the energy cost~$E$. 
\begin{equation}
 \textbf{E}=\int_{t_0}^{t_1}f_{a}(t)^2dt
\end{equation}
where $f_{a}$ is the active force generated by actuators like motors or muscles. 
This is introduced to \cms\ research as the influential Spacetime Constraints\citep{Witkin1988}. 
It is based on the hypothesis that the natural looking trajectory costs minimum energy,
which closely relates to the idea of Darwin's Theory of Evolution. 

Optimization based  methods produced believable motions for variable tasks. 
\citet{Jain2009} provided an example of locomotion.  
\citet{BalanceControl} found a method for balance maintaining movement. 
\citet{Liu2009} proposed a method for object manipulation. 
\end{itemize}


\subsubsection*{Drawbacks of Optimization}
Optimization is a popular method for physics based animation.
It generated the best motion results in current research.
But this method has several drawbacks.

\begin{itemize}
\HiItem{Numerical Instability and Modelling Difficulties: }
Optimization methods promise the energy efficiency of the  motion results, but there is no guarantee about convergence speed and stability.
With current numerical methods, optimal solution is difficult to find. 
The motion results are sensitive to the accuracy of the model and the proximity of the initial guess.
\citet{Liu2005} points out that the original space–time constraint methods only suit high energy motions, like jumping and running.
For low energy tasks (such as walking) the results are natural looking.

\HiItem{Computational Complexity: }
Optimization methods like space–time constraints is a variational problem by nature. 
For a complex character, it might take  prohibitively long time,thus the applications is limited  to problems which are computationally feasible. 
In addition, little is known about how to reuse a computation result for motion adaptation.
\end{itemize}


\subsection{Fix Up}
There are many research attempts to make tracking controllers more adaptive or optimization faster.
One popular idea is to mix the two methods: optimization is done offline for planning the reference trajectory, while tracking controllers are adopted as online real-time controllers.
Many methods start to train the controller with motion capture data \citep{levine2011space,coros2010generalized,de2010feature,wei2011physically,ye2010optimal,lee2010motion,wang2010optimizing,wu2010terrain,liu2010sampling,lee2010data}. 

Also new research propose use simplified dynamic models for optimization planning\citep{mordatch2010robust}.


These attempts may remove some limitations of tracking or optimization, and make them feasible for certain applications.
But \cms\ problems can not be solved completely in this manner.
Learning based methods are complex and  sensitive to training examples, the stability of such controllers can not be strictly proved.
In addition,  offline optimization  does not reduce the computational burden in nature.




\subsection{Biological Constraints}
The problems of \cms\ has also been spotted earlier in biological motor control research.
Biological researchers have dropped  tradition artificial control ideas long ago, because they  violates the biological constraints.
Although the mechanism behind information processing remains obscure, some characteristics of biological information processing are well recognized,  making  \cms\ methods above questionable\citep{Glynn2003}. 
  
\begin{itemize}
\HiItem{Sensing and Control Limitations:}
Motor control is not only a mechanical problem, but also a complex process involving chemical, electrical and mechanical changes.
Many crucial mechanical parameters and variables such as mass, inertia, force, are inaccessible to the neural system and can only be approximated. 
Some important control variables (such as torque) are controlled indirectly by the neural system through a complex process.
Also body and environmental measurements are noisy and time varying, making methods that are  sensitive to errors unsuitable for control biological system.

\HiItem{Neural Computation: }
The neural system is powerful, but inferior in speed and accuracy when compared with digital computers. 
Neural signals are of only hundreds of Hz and their transmission speed is slow.
In addition there is a long delay between firing a neural signal and generating force in the muscles.
It may cost about half a second from seeing an object to force generation in arm. 
This makes it impossible for the neural system to carry out the complex computation necessary for real–time optimization.


Following the idea of optimization control, the dynamics of fluid environment and deformable body are more difficult to optimize. 
But most primitive life forms live in the sea and have limited intelligence. 
\HiItem{Memory Capacity:}
Some argue that motion control is not based on computation, but based on memory.
This idea avoids the question of computation speed, but it faces another problem of the memory capacity. 
Since motion varies greatly, if we store every variation of motion in our brain, brain will run out of memory space.

\end{itemize}

Because of such constraints, researchers have started to look for different strategies.

\section{Motion Primitives}
At first, researcher are reminded that logical think or mental conscious plays little role in motor planning.
Animals including human exhibit complex motion behaviours after birth or at early ages, abilities like breathing, heat beating and child bearing are inborn without learning.

Some suggests that motor ability are inborn and organized in blocks\citep{bizzi1995modular,bizzi2002book}.
Strong evidences come from the experiment where stimulating of a single spinal motor afferent triggers a complete sweeping motion\citep{bizzi1995modular}.
A new theory, Motion Primitive Conjecture, was proposed.
In this theory, motion is  built from a limited number of building blocks, which are called \emph{motion primitives}.
Complex motions are combinations of motion primitives, just like we connect alphabets into sentences.
Motion Primitive Conjecture also provides insight into the motion perception.
\citet{gallese1996action} have found action and perception trigger similar reactions in a group of neurons.





\subsection{Dynamic Motion Primitives}
The Conjecture of motion primitive is supported by both the behaviour study and anatomy of natural animals.
For dynamic \cms, the puzzle is how motion primitives idea can simplify dynamic motor control.

An proposed answer is that every motion primitive has some valuable dynamic properties, like stability and efficiency, which is determined by the natural dynamics.
Some researchers point out that motion style is closely related to the body structure and environment.
They have not been changed much by the evolution of neural system, for example, the whales swim more like fish than other mammals.
Animals do not move the way they want, but rather the way they can. 
A further explanation is that the body and the environment play the most important role in motor control: they form the basic pattern of motion \citep{nishikawa2007neuromechanics}.
For neural control, the responsibility is not to plan the trajectory from ground up, but modifying or tweaking basic patterns to meet specific purpose.
Several theories are proposed for the neural control mechanism.

Experiments have shown that even under the same conditions, the motions still vary. 
Some \dof s are not controlled and freely influenced by the environment. 
For this phenomenon, \emph{Uncontrolled Manifold Hypothesis(\umh)}\citep{latash2008neurophysiological} proposes that only the final results is the concern of motor control, trajectory is not.


\emph{Equilibrium Point Hypothesis(\eph)}\citep{feldman1986ome} explained below can be seen as a specification of \umh.
This idea comes from properties of differential equations. 
For a dynamic system
\[
\dot{\state}=F(\state)
\]
the equilibrium points $\state_{e}$ satisfies the condition $F(\state_{e})=0$.
\eph\ suggests the neural system does not control motion trajectory, but the position of the equilibrium point.



\emph{Impedance Control} \citep{hogan1985ica} refines the idea of \eph\ by providing a model for effects of the extra \dof s as explained below. 
At an equilibrium point $\state_{e}$,
\[
F(\state_{e})=0 
\]
Impedance Control proposed that the extra \dof s provide a way to control the stability and admittance of the equilibrium point $\state_{e}$. 
The mathematical description is
\begin{equation}
F(\state_{e}+E_r)=KE_r
\end{equation}
where $E_r$ is the offset error vector, $K$ is stiffness matrix or impedance,which determines the stability.
The extra \dof s provide the neural system  a way to tune the direction of $K$ according to the purpose.
This mechanism will provide the actors a way for avoiding obstacles or risks. 
Experiments \citep{Franklin2007} have proved this idea by showing  that the measured matrix $K$ has anisotropic properties.







\subsection{ Neural Control Mechanism}
Motor control involves little mental work,
and current idea of neural science is that motor control is a low level intelligent activity and can be controlled  without brain input. 
Research studies have proposed several neural activities related to its role in ``tweak''  motion primitives.
\begin{itemize}
\item
In vertebrate animals,  Central Pattern Generator (\cpg) serves important functions in locomotion, respiration, swallowing and other rhythm behaviours.
\citet{Cohen1988a} argues that locomotion is the result of the interaction between neural and mechanical oscillators via a process called \textbf{entrainment}.
Neural systems modify the motion by adjust frequency and amplitude of  rhythmic neural signal.



\item
Some research studies find out that motion will change in a uniform manner\citep{Viviani1992}.\citet{flash2007affine} proposed modelling motion adaptation through \emph{affine transformation}.
The idea that motion adaptations can be model as group actions is very interesting for the fact that affine transformation group is closely related to the vision system.
This theory implies a close relationship between motor control and vision.

\end{itemize}









\subsection{Bionic Robotic Research}
Ideas from biological research  also inspired many robotic engineering experiments,which show the feasibility of new control principles.
Such robots utilize the natural dynamic rather than the tracking or optimization strategy.
Here are some important research studies reported.
\begin{itemize}
\HiItem{Limit Cycle in Walking.}
A very important discovery is the bipedal walking can happen without any control\citep{McGeer1990}.  
Under specific conditions, a mechanic structure can walk down a slope passively, with natural looking gaits.
Further research have shown that such a mechanical system can walk on a plane with a very simple control strategy\citep{Collins2005}.

\HiItem{\cpg\ and entrainment}
The \cpg\ based entrainment is applied for robotic research\citep{Williamson1999a}, the found results show the \cpg\ will boost the system stability and can maintain motion in unpredictable situations.
\citet{fukuoka2003adaptive} has applied \cpg\ for quadrupedal walking.

\HiItem{Passive based Control.}
The control and mechanics community also starts thinking about passive based control methods that utilize the natural dynamics.
Controlled Lagrange \citep{bloch2000controlled,bloch2001controlled,bloch2000potential}and Controlled Symmetry \citep{spong1998underactuated,Spong96energybased} are mathematically rigid methods that have been applied to mechanic system and robotics\citep{spong2005controlled}.
\end{itemize}

\section{Placement and Contrasts}
New biological theories are the foundational idea of \moit.
The contribution of \moit\ is a new mathematical language and workable algorithms for the biological ideas.

\moit\ introduces topological conjugacy to model adaptations,   and unifies different ideas from a new  perspective.
The principle of \eph\ and Impedance Control are generalized as attractor and attraction control.
Also a new important property of  motion primitives is proposed, the \emph{structural stability}.


\cpg\ comes from the research of spinal cord, which models the low level control; while the transformation idea comes from research of the cortex, which is a model for high level control.
At first sight, Entrainment of \cpg\ and Group Transformation seem very different in principle , but  in \moit, both control principles maintain the qualitative property of natural dynamics.
Such unification implies a new control hierarchy framework and has a good biological meaning: 
The low level system utilizes some robust and qualitative measures like entrainment or \cpg\ to boost the stability of motion;
while high level control is quantitative and  precise, which adapts stable motion for specific purpose.

As a straightforward extension, \moit\ also provides a theory for solving the dynamic problem during motion transition.


 

 



