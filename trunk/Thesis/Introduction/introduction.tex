%%% Thesis Introduction --------------------------------------------------
\chapter{Introduction}
\ifpdf
    \graphicspath{{Introduction/IntroductionFigs/PNG/}{Introduction/IntroductionFigs/PDF/}{Introduction/IntroductionFigs/}}
\else
    \graphicspath{{Introduction/IntroductionFigs/EPS/}{Introduction/IntroductionFigs/}}
\fi

\chapter{Introduction}
\section{Research Values and the Challenges}
Character Motion Synthesis (CMS) research aims at generating motions for virtual characters.
It is a valuable topic for both industry and academic community. 
Main applications are in the media industry, both computer games and animation films depend heavily upon character motions for storytelling.  
CMS also has many applications in other areas, such as user interface design, psychology, sports and medicine.

The challenge of CMS research is not to make characters move, but how to make them lifelike. 
This challenge comes from our human's marvellous ability of motion perception. 
Motions for the same task are very similar, but vary adaptively.
From the variety in motion details, humans can infer the changes in mental states, health conditions or even the surrounding environment. 

Nowadays in industry, high quality motions are majorly generated by manual work. 
For every joint of the character, animators specify a series of positions over the motion time.
Corresponding mathematical model is the parametric trajectory with joint position as the value and time as the parameters.
In applications, most characters are very complicated and contain a large number of joints, making animation a tedious work.
Making things worse, it is difficult to reuse motion animation.
Reusing motion animation for a different scenario is prone to artefacts.
For this situation, high level animation tools are badly needed. 

It is believed that motion can be synthesised by simulating the dynamics of body and environment and the functions of neural control system.  
With the advance in Mechanics Simulation, current research is trying to make virtual characters dynamically interact with their environment and adapt motions realistically.
Typical research topics include locomotion, object manipulation and posture control.
However the complexity of body structure proposes many problems for simulation methods.
For example, the human skeleton is made up of more than 200 bones driven by more than 600 muscles.
From the mechanical viewpoint,  
this mechanical system is full of redundant \textbf{degree of freedom} (DOF)s,  which not only increase the computational load, but also make the solution nondeterministic. 
For a specific motion task like picking up an apple, there exist many different ways of arm motion. 
Only a few ways seem natural, and the believable motions vary adaptively for environmental or inner reason.

 

\section{Natural Motion Features}
To synthesis natural looking motion, we must understand the features of natural motion.
This question is covered in biological \textbf{Motor Control} research.
Three features are considered in CMS research but are hard to achieve at the same time by current methods. 
\begin{description}
\item [Adaptive and Robust]
Natural motions are adaptive to the changes in the environment or body conditions. 
A common example is human locomotion. 
The walking motion changes on different terrains while the balance is maintained and different perturbations will generate different reactions.  

\item [Agile]
Some motions of animals are very fast, honey birds may vibrate their wings in kHz.
agility not only refers to the speed of motion,
more puzzling is that the neural system can solve the complex motion control problem in a very short time. 
When an animal avoids obstacles at very high running speed, 
it must continue its running motion, make a turning and keep balance at the same time. 
It seems very easy for the neural system to find such complicate motion solution.

\item  [Energy Efficient]
Natural Motions are energy efficient.
In theory, this idea is supported by Darwin's Theory of Evolution.
Animals spent far less energy than our expectation.
An example is that the energy consumed by human walking is only 10\% of that for a robot of the same scale.
\end{description}

\section{A Simple Illustration of Qualitative Control Theory}
The main content of this research is the \textbf{Qualitative Control Theory(QCT)}. 
It is not only a new CMS technology, more important, it can also been seen as a different theory for understanding of the biological motor control system.
To understand QCT, one first has to abandon the traditional parametric trajectory model for motion.
In our perspective, this idea is the origin of many limitations of current research methods.
A full discussion of such limitations is in section \ref{sec:limitation}.
The intuitive explanation of Qualitative Control Theory is that the trajectory of motion is not important, 
only some qualitative properties of the final result matter.
In QCT, the objective of motion control is some qualitative property of the final motion.
Further we propose that motion adaptation involves little  control effort. 
Adaptation is generated by the intrinsic property.
In mathematics, a natural motion is modelled as a \textbf{structural stable autonomous system}.

Although QCT is new in CMS research, the principal is intuitive and common in our daily life. 
It can be illustrated by the following example of a ship floating in the sea.

\begin{description}
\item[Adaptive Motion of the Ship]

When a ship is floating in the sea, it will move up and down along with the wave. 
In our perspective, this phenomenon is in essence the same with motion adaptation
Such movements are not generated by control efforts; they are generated by the ship's intrinsic property and perturbations from the wave movement. 
To make the problem simpler, we restrict our discussion to motion of the ship in two dimensions, as shown in figure \ref{fig:ShipExample}.
\begin[here]{figure}
%\input{\figurepath/ShipExample}
\label{fig:ShipExample}
\end{figure}
The swing motion of the ship can be described by the following equation
\[
I \ddot{\theta}+d\dot{\theta}=T_{G}+T_{B}+T_{F}=(Gl_{g}-Bl_{b})sin(\theta)+T_{F}
\]
$\theta$ is the swaying angle,
$I$ is the inertia,  
$d$ is the damping coefficient,
$T_{G}$ is the torque of gravity, and $T_{B}$ is the Torque of buoyancy.
$T_{F}$ is the external control torque.
if $T_{F}=0$, external control force is applied, the system is an \textbf{autonomous system}.

A graph is used to show the motion of the ship,
in Figure ~\ref{fig:motion_graph}, we plot the states of the ship over time.
The horizontal axe represents the $\theta$, the vertical axe represents the $\dot{\theta}$.
Different waves push the ship into states with different angle $\theta$.
Because the torque of gravity and buoyancy can't compensate each other, it will begin to move.
The ship with different initial states will move in different ways, thus result in two different motion curves.
Motions are generated without any control; they can be seen as passive effects.
It is a property of the autonomous system.
The curves are different but the final state is fixed.

\begin[here]{figure}
\input{\figurepath/ShipMovement}
\caption{Plot the motion of the Ship.
horizontal axis for $\theta$, vertical axis for $\dot{\theta}$}
\label{fig:motion_graph}
\end{figure}
The variety of curves shows the adaptation of the ship.
In the Qualitative Control Theory, 
the adaptation of natural motions in essence is the same with the adaptation of ship motion.
In this process, neural control system may take little effort.
Adaptive motions can be generated as a passive effect because of the autonomous system.


\item[Maintain the Posture]
For Modern Ships, the height is much longer than the width. 
Special measures are needed to keep the ship from toppling sideways. 
This problem is solved by structure design, not by control strategies.
A simple measure is to keep the centre of gravity below the centre of buoyancy.
For the ship, there are only two posture where the buoyancy torque and gravity toque compensate each other, 
this is shown in Figure ~\ref{fig:ship_equilibrium}

\begin{figure}
\input{\figurepath/ShipEquilibrium}
\caption{the Two Equilibrium Postures of the Ship}
\label{fig:ship_equilibrium}
\end{figure} 

But two postures are different, 
The left one is stable or attractive.
If the ship is in a slightly different posture, it will return to the stable posture.
On the graph,
curves that start from points in the neighbourhood will approach to the centre,
as shown in Figure ~\ref{fig:ship_stablePosition}
\begin{figure}
\input{\figurepath/stablePosition}
\caption{The Attractive Posture.
The Centre Red Dot for  the Posture}
\label{fig:ship_stablePosition}
\end{figure} 

The right one is unstable or repelling, 
if the ship is in a posture slightly different from the right one,
it will turn away from it.
On the graph,  curves that start from points in the neighbourhood seem to be repelled from the centre.
as shown in Figure ~\ref{fig:ship_unstablePosition}.
\begin{figure}
\input{\figurepath/unstablePosition}
\caption{The repealling Posture}
\label{fig:ship_unstablePosition}
\end{figure} 

When connect Figure ~\ref{fig:ship_unstablePosition} and Figure ~\ref{fig:ship_stablePosition}together, 
we will see the motion curves depart from the repelling posture and approach to the attractive one.
as shown in Figure ~\ref{fig:global_flow}.
\begin{figure}
\input{\figurepath/ShipGlobalFlow}
\caption{Motion Curves depart from the repelling posture and approach to the attractive posture}
\label{fig:global_flow}
\end{figure}
This property means the ship can automatically keep it from toppling, which is determined qualitatively by the structure.
The variety of ship designs may change the motion details or the shapes of the curves on the graph, 
but will not qualitatively change the self balance ability.
On the graph, it means it will not change where the motion curves start and terminate.
The qualitative property can be interpreted as the topology of the graph, which is shown in Figure ~\ref{fig:topologyStructure}

\begin[here]{figure}
\input{\figurepath/topoloyStructure}
\caption{The Topology of Motion of the Ship}
\label{fig:topologyStructure}
\end{figure}

For the states of the ship, $\theta \in [0,2\pi)$, which can be presented by a line segment $\mathbf{D^{1}}$,
for the $2\pi$ and $0$ presents the same posture, we can define $0=2\pi$,
In geometry, it means connecting the two endpoints of a line segment $\mathbf{D^{1}}$ together,which forms a circle $\mathbf{S^{1}}$.
In theory, $\dot{\theta} \in (-\lim ,\lim)$,$\dot{\theta}$ should be presented by a line $\mathbf{R^{1}}$, 
but in real life, the ship sways slowly, we suppose $\dot{\theta}\approx 0$,we simplify the line by a dot $\mathbf{S^{0}}$.
The original space of the states $[\theta \dot{\theta}]$ is $\mathbf{S^{1}}\times \mathbf{R^{1}}$,which has the shape of a cyliner;
The approximation $\dot{\theta} \approx 0$,simplify the cylinder into a circle, which is shown in Figure ~\ref{fig:topologyStructure}.



On this circle, two points represent the equilibrium posture; 
the red one is the repelling posture at $\theta = \pi$, 
the blue one is the attractive posture at $\theta =0$, 
all the other postures are not stable; the ship will move away from the repealing one and approach the attractive one. 
Qualitatively we know 
\textbf{no matter what the initial posture of the ship is, 
the ship will finally stop at the attractive position.}
This conclusion is based on several qualitative properties.
\begin{description}
\item [the state space is a circle]
\item [there are only two equilibrium points on the circle]
\item [one is repelling, one is attractive]
\item [the two equilibrium points are connected]
\end{description}

In mathematical research,
such properties are topological property,
Figure ~\ref{fig:topologyStructure} is the topological structure for the autonomous system of the ship.

For different ships, as long as the center of buoyancy is above center of gravity,
the corresponding autonomous systems will possess the same topological structure,
thus keep the ships from toppling.
The idea of posture maintenance can also explain the posture of many swimming animals.

In Qualitative Control Theory, 
we take the topological structure as the most important control handle.
For an autonomous system, if the topological structure is known, the qualitative properties of the final motion are determined.
Also, if we can modify the topological structure, we can qualitatively change the behavior of the system.

For the ship example, if we make the repelling posture becomes attractive, and the attractive one repelling.
We can turn the ship bottom up.
This can be achieved by many methods, as long as the centre of gravity is lifted above the centre of buoyancy.
But we are not sure how the ship will topple, 
we don't know the motion curve of the ship or even the direction of the toppling. 
In qualitative control theory, we take such uncertainty as an advantage.
How the ship will topple is determined by the ship, control measure and the environment perturbation.
This provides a mechanism for adaptation of motion.



\item[Facing Bigger Waves]
When bigger waves come, it becomes more challenging.
It is impossible to measure the strength of coming wave and counteract it. 
Methods taken are based on changing the ship's parameters.

One method is to turn the ship around, let the head facing the wave as show in Figure ~\ref{fig:ship_stir}
\begin{figure}
%\input{\figurepath/ShipStir}
\caption{Top view of The Stir}
\label{fig:ship_stir}
\end{figure}

After the turn, for waves of the same strength, amplitudes of vibration are smaller.
This posture with the one before the turn are shown in Figure ~\ref{fig:ship_stir2D}
\begin{figure}
%\input{\figurepath/ShipStir2D}
\caption{After the stir, the inertia becomes bigger}
\label{fig:ship_stir2D}
\end{figure}
The equations for the two postures of the ship are nearly the same; the only difference is the inertia.
The inertia $I$ of the right posture is larger than the left.
The motion curves of the two systems are compared in Figure ~\ref{fig:more_stable}
\begin{figure}
%\input{\figurepath/moreStableMotion}
\caption{motion curves of two postures}
\label{fig:more_stable}
\end{figure}

The right graph of new posture motion is like the right one after being scaled down.
The stir measure can be geometrically interpreted as a scale deformation. 
This idea of adjusting parameters can explain many natural motions.
When a human is walking on a narrow bar, he naturally extends his arm to prevent toppling sideways.

In Qualitative Control Theory, we propose that animals use the same idea to maintain motion stability.
When moving in an environment of perturbations, 
the motion is maintained not by feedback control, 
but by selecting a more stable posture.

A further question is maintaining the posture when waves come one after another.
In real life, one method is vibrating the ship in synchronise with the wave.
This method is important, in our research; it is the foundations of many periodic motion behaviours like walking locomotion.
we put the discussion later for more mathematical background is needed.
\item[Agility and Energy Efficiency]
Little energy and no complicate computation are needed to maintain the posture of the ship,
thus this example is energy efficient and agile.
The reason is that the control objectives are met by the intrinsic properties of the autonomous system.
The Qualitative Control Theory adopt the idea utilize the intrinsic properties of autonomous systems without much neural control effort.
\end{description}

Qualitative Control Theory suggests that the principal of animal's motions is the same as the motions of the floating ship.
The interactions between body and environment form many autonomous dynamic systems, which are the foundations of natural motions.
Many motion objectives are based on the qualitative properties of such autonomous systems, thus can automatically maintained without any effort.
Neural system adjusts the body posture to adjust the parameters of autonomous systems for specific purpose.
Complex motion is basically a sequence of basic motion primitives.


\section{The Novelty and Contribution of the Proposed Research} 
Our research will contribute in both biology theory and CMS research.
For biology theory, the proposed research further completes the theory of \textbf{Motor Control} . 
We introduce the mathematical knowledge of qualitative dynamic theory into the field.
This may help us have a better understanding of animals' body and neural system.
For CMS research, this research introduces a novel method aiming at generating adaptive motions. 
In application, it will solve the problem of reusing motion data thus greatly reduce the animation work.
It especially suits repetitive and low energy motion tasks which are most challenging in current CMS research.
It also has the advantage of computational efficiency and can be accelerated by GPU and may run in real-time in future.

Qualitative Control Theory has three major differences from current CMS ideas.  
\begin{description}
\item [Qualitative and Quantitative Properties]
Motion Controllers in current research mainly focus on eliminating the difference between simulation results and the predefined motion curves. 
The difference is a local quantitative property;
while QCT  focuses on the qualitative properties determined by the topological.
Topological structure is a global and qualitative property.


\item [Active and Passive]
In current research, adaptation is generated by active control effort, 
While in our framework, adaptive motions are generated without any control effort, 
thus can be seen as a passive effect.
\item [Inverse and Forward Simulation]
Current control methods synthesis motions by solving an inverse problem. 
QCT is based on modifying the parameters of the system and forward simulation, thus are more efficient.
\end{description}

\section{The Report Structure}

This report is organized as follows:
Chapter 1 introduces the application and our research objective.
In Chapter \ref{chap:previouswork}, we review current CMS research.
The focus of discussion is the limitation of the trajectory based motion model.


Motion synthesis is a typical interdisciplinary research topic.
The Qualitative Control Theory this research proposed is based on many research in physical science.
In Chapter \ref{chap:Theory}, we provide a detailed discussion about the biology and mathematical background of the new theory.
In Section \ref{sec:biologyTheory} discussed the supporting biological view, 
it can serve as a justification of the theory and the answer to the questions why Qualitative Control Theory has the potential for natural looking motion.
In Section \ref{sec:math}, we build the mathematical model for this method, which serves as the foundation for computer implementation.
 
In Chapter \ref{chap:implemtation}, we discuss application of Qualitative Control Theory in CMS.
In Chapter \ref{chap:app}, some testing results for simple character are shown.
Based on these results, research work in PhD time is discussed in Chapter \ref{chap:futher_work}.
 




%%% ----------------------------------------------------------------------


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../thesis"
%%% End: 
